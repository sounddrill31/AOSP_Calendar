{
  "comments": [
    {
      "key": {
        "uuid": "AAAA8H//+CM\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1720,
      "author": {
        "id": 1002598
      },
      "writtenOn": "2010-10-28T23:21:08Z",
      "side": 1,
      "message": "Let\u0027s leave this in there. Replace the new lines will allow us to fit more text.",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA8H//+CQ\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1726,
      "author": {
        "id": 1002598
      },
      "writtenOn": "2010-10-28T23:21:08Z",
      "side": 1,
      "message": "The event text wraps properly when I change TextUtils.TruncateAt.END to null. However, it is overflowing at the bottom. Unfortunately, that\u0027s how StaticLayout works. :( I don\u0027t see a way to specify a height. We will have to call on canvas.clipRect() to a multiple of line height before drawing onto the canvas.",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA8H//9+A\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1726,
      "author": {
        "id": 1002372
      },
      "writtenOn": "2010-10-29T09:05:52Z",
      "side": 1,
      "message": "I think that something changed, then. With a froyo framework, there is only one ellipsis, at the very end, and the text wraps correctly. Also, my understanding of the different TruncateAt values is that the behavior you are describing is what MIDDLE is for, and END should do precisely the right thing. As such, I do not think that that is how StaticLayout works, neither in practice on Froyo, nor in theory.",
      "parentUuid": "AAAA8H//+CQ\u003d",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA8H//9X8\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1726,
      "author": {
        "id": 1002598
      },
      "writtenOn": "2010-11-03T17:01:16Z",
      "side": 1,
      "message": "If you have a really long event title, do you see one line of text or multiple? If single line, we can\u0027t use it as is. If multiple, how do you control the height of a StaticLayout. Maybe I am missing something... but the only option I see is to set a canvas clipRect before drawing.",
      "parentUuid": "AAAA8H//9+A\u003d",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA8H//9I0\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1726,
      "author": {
        "id": 1002372
      },
      "writtenOn": "2010-11-04T10:58:52Z",
      "side": 1,
      "message": "I can confirm that the first line gets wrapped and the second gets truncated. It has been about a year since I wrote this patch, and I have to confess that I do not remember how or what did that (if any) to make it work. http://www.lingnu.com/files/short.png contains a screen shot of the truncated version. http://www.lingnu.com/files/long.png contains the longer one.\n\nThe real question is, if StaticLayout doesn\u0027t do it, what is the difference between TruncateAt::END, MIDDLE and NONE?",
      "parentUuid": "AAAA8H//9X8\u003d",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA8H//9IU\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1726,
      "author": {
        "id": 1002598
      },
      "writtenOn": "2010-11-04T15:10:58Z",
      "side": 1,
      "message": "I will try to find out more later today but I am GUESSING that whenever StaticLayout truncates, it is always limited to 2 lines.  (The behavior I am seeing where it wraps the first and the overflows on the second is a bug.) Sounds like StaticLayout is too limited to our use. We need to be able to specify a height and have it wrap the text to as many lines as there are space for.  I will get back to you after speaking to other people here.",
      "parentUuid": "AAAA8H//9I0\u003d",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAA8H//9CQ\u003d",
        "filename": "src/com/android/calendar/CalendarView.java",
        "patchSetId": 2
      },
      "lineNbr": 1726,
      "author": {
        "id": 1002598
      },
      "writtenOn": "2010-11-04T22:04:40Z",
      "side": 1,
      "message": "Ok. I talk the engineer involved. My guess was correct. I will a bugs and a feature request:\n1) when truncating, the second line shouldn\u0027t overflow\n2) allow the caller to specify a height for a StaticLayout.\n\nUntil these are implemented, this patch won\u0027t work as it limits the text to 2 lines even for Froyo.",
      "parentUuid": "AAAA8H//9IU\u003d",
      "revId": "a1db4cd26d29c1ae8266dca81088743aa71fa4e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}